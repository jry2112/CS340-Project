<h1>Current Enrollment</h1>

<form class="row g-3" action="/enrollment/search" method="GET">
    <legend>Search</legend>
  <div class="col form-floating">
    <label for="searchID">Enter Student or Course ID</label>
    <input class="form-control" type="text" name="searchID" required>
  </div>
  <div class="col">
    <button class="btn btn-outline-dark" type="submit">Find By ID</button>
  </div>
</form>

<div class="row">
    <div class="col-6"><h1>Enrollments</h1></div>
    <div class="col-6 d-flex justify-content-end">
      <a href="/enrollment/add" type="button" class="btn btn-primary align-self-center">Enroll a Student</a>
    </div>
  
  
  </div>
<div>
    <table class="table">
        <tr>
            <th>Student ID</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Course ID</th>
            <th>Course Name</th>
            <th>Instructor</th>
            <th>Enrollment Date</th>
        </tr>
        <%
        if (userData.length != 0){
            userData.forEach(function(data){
            %>
                <tr>
                    <td class="studentID"><%=data.Student_ID %></td>
                    <td><%=data.First_Name %></td>
                    <td><%=data.Last_Name %></td>
                    <td class="courseID"><%=data.Course_ID %></td>
                    <td><%=data.Name %></td>
                    <td><%=data.Instructor %></td>
                    <td class="enrollmentDate"><%=data.Date.toLocaleDateString("en-US"); %></td>
                    <td>
                        <button class="btn btn-danger btn-sm delEnrollmentButton" type="submit" data-student="<%=data.Student_ID %>" data-course="<%=data.Course_ID %>" data-date="<%=data.Date.toLocaleDateString('en-US')%>" onclick="deleteEnrollment(this.getAttribute('data-student'),this.getAttribute('data-course'),this.getAttribute('data-date'))"> X </button>
                    </td>
                </tr>
            
            <% }) %>
<%         } %>
        
    </table>
</div>
