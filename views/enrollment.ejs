<!DOCTYPE html>
<html lang="en">

<%- include('partials/head'); %>
<%- include('partials/header'); %>
    
<h1>Current Enrollment</h1>
<h3>This page is for viewing Current Course Enrollments</h3>

<div>
    <table class="table">
        <tr>
            <th>Student ID</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Course ID</th>
            <th>Course Name</th>
            <th>Instructor</th>
            <th>Enrollment Date</th>
        </tr>
        <%
        if (userData.length != 0){
            userData.forEach(function(data){
            %>
                <tr>
                    <td><%=data.Student_ID %></td>
                    <td><%=data.First_Name %></td>
                    <td><%=data.Last_Name %></td>
                    <td><%=data.Course_ID %></td>
                    <td><%=data.Name %></td>
                    <td><%=data.Instructor %></td>
                    <td><%=data.Date.toLocaleDateString("en-US"); %></td>

                    <td>
                        <form action="/enrollment/<%=data.Student_ID%><%=data.Course_ID%><%=data.Date.getMonth()%><%=data.Date.getFullYear()%>" method="DELETE">
                            <button class="btn btn-danger btn-sm deleteEnroll" type="submit"> X </button>
                        </form>
                    </td>
                </tr>
            
            <% }) %>
<%         } %>
        
    </table>
</div>
<div>
    <h2>Enroll a Student</h2>
    <div class="">
        <form action="/enrollment" method="POST">
            <div class="form-group">
                <label for="studentID">Enter Student ID:</label>
                <input type="text" name="studentID">
                    
                <label for="courseID">Enter Course ID:</label>
                <input type="text" name="courseID">
                    
                <button class="btn btn-alert">Enroll</button>
              </div>
        </form>

    </div>
    
</div>









<div>
    <h2>Quick Search</h2>
    <h3>Filter Enrollments based on Student information or Course information</h3>
    <div>
        <form class="" action="enrollment/search" method="GET">
            <fieldset>
                <!--JS coding is required for data validation as html is not sufficient-->
                <label for="searchID">Enter Student or Course ID</label>
                <input class="input" type="text" name="searchID" required>
                <br>
                <button class="submit" type="submit">Find By ID</button>
            </fieldset>
        </form>
    </div>
</div>

<%- include('partials/footer'); %>